import FreeCAD
import PartDesign
import InvoluteGearFeature

def create_spur_gear():
    doc = FreeCAD.ActiveDocument
    if doc is None:
        doc = FreeCAD.newDocument("GearAssembly")
    
    # ایجاد یک بدنه جدید در PartDesign
    body = doc.addObject('PartDesign::Body','GearBody')
    
    # ایجاد چرخ دنده
    gear = doc.addObject('PartDesign::InvoluteGear','SpurGear')
    gear.NumberOfTeeth = 20
    gear.Module = '1.0 mm'
    gear.PressureAngle = '20 deg'
    
    # اضافه کردن چرخ دنده به بدنه
    body.addObject(gear)
    
    # اکسترود کردن
    pad = doc.addObject('PartDesign::Pad','GearPad')
    pad.Profile = gear
    pad.Length = '12 mm'
    body.addObject(pad)
    
    doc.recompute()
    return gear

spur_gear = create_spur_gear()
