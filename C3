import FreeCAD
import Part
import InvoluteGearFeature

# پارامترهای چرخ دنده شانه‌ای
length = 60.0  # طول چرخ دنده شانه‌ای بر حسب میلی‌متر (6 سانت)
width = 12.0   # عرض چرخ دنده شانه‌ای بر حسب میلی‌متر (1.2 سانت)
module = 1.0   # مدول دندانه (استاندارد)
pressure_angle = 20.0  # زاویه فشار استاندارد (درجه)

# ایجاد یک چرخ دنده شانه‌ای
def create_rack_gear():
    doc = FreeCAD.ActiveDocument
    if doc is None:
        doc = FreeCAD.newDocument("RackGear")
    
    # ایجاد شکل چرخ دنده شانه‌ای
    rack = Part.makeRack(length, module, width, pressure_angle)
    
    # اضافه کردن به سند
    rack_obj = doc.addObject("Part::Feature", "RackGear")
    rack_obj.Shape = rack
    
    # تنظیم نمایش
    rack_obj.ViewObject.ShapeColor = (0.67, 0.67, 0.67)  # رنگ خاکستری
    doc.recompute()
    
    return rack_obj

# اجرای تابع
rack_gear = create_rack_gear()
